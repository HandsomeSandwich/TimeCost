{% extends "base.html" %}
{% block title %}Result{% endblock %}
{% block body_class %}kiosk{% endblock %}

{% block content %}
<div class="panel">
  <div class="panel-header">
    <h1 class="panel-title">Hi, {{ kid_name }}</h1>
    <p class="panel-subtitle">{{ item_name }}</p>
  </div>

  {% include "partials/_guide_bubble.html" with context %}

  <div class="hero-number">
    <div class="delta">-{{ time_cost }}</div>
    <div class="delta-label">minutes</div>
  </div>

  <div class="balance-box">
    <div class="balance-label">You have left</div>
    <div class="balance-value">{{ remaining_time }}</div>
    <div class="balance-sub">{{ balance_period_label }}</div>
  </div>

  <div class="actions">
    <a class="btn btn-primary" href="{{ url_for('tap_screen') }}">Done</a>
  </div>

  <p class="auto-close">Returning to tap screen in <span id="countdown">5</span>â€¦</p>
</div>
{% endblock %}

{% block scripts %}
<script>
  (function () {
    let n = 5;
    const el = document.getElementById("countdown");
    const tick = () => {
      n -= 1;
      if (el) el.textContent = String(n);
      if (n <= 0) window.location.href = "{{ url_for('tap_screen') }}";
    };
    setInterval(tick, 1000);
  })();
</script>
{% endblock %}
