{% extends "base.html" %}
{% block title %}Result{% endblock %}

{% block content %}
<div class="page">
  <header class="page-header">
    <h1>Time Cost</h1>
    <p class="muted">A quick translation from money to time.</p>
    <div class="result-card callout" role="status">

  </header>

  <section class="panel">
    {% if result == "Invalid input" or (time_cost and not time_cost.ok) %}
      <div class="callout" role="status" aria-live="polite">
        <strong>Something didn’t add up.</strong>
        <div class="muted" style="margin-top:6px;">
          {% if time_cost and time_cost.error %}
            {{ time_cost.error }}
          {% else %}
            Please check the numbers and try again.
          {% endif %}
        </div>
      </div>

      <div class="actions">
        <a class="btn btn-primary" href="{{ url_for('calculator') }}">Back to calculator</a>
      </div>

    {% elif time_cost and time_cost.ok %}
      <div class="callout" role="status" aria-live="polite">
        <div class="muted">This costs about</div>
        <div style="font-size:34px; font-weight:800; letter-spacing:-0.4px; margin-top:4px;">
          {{ time_cost.total_hours|round(2) }} hours
        </div>
        <div class="muted" style="margin-top:6px;">
          {{ time_cost.human }}
          {% if workday_text %} · {{ workday_text }}{% endif %}
        </div>
      </div>

      {% if item_name %}
        <div class="card">
          <div class="card-title">Item</div>
          <div style="font-weight:700;">{{ item_name }}</div>
        </div>
      {% endif %}

      <div class="card">
        <div class="card-title">Inputs</div>

        <div class="meta-row">
          <span class="muted">Cost</span>
          <strong>{{ currency }}{{ time_cost.cost }}</strong>
        </div>

        <div class="meta-row">
          <span class="muted">Hourly rate used</span>
          <strong>{{ currency }}{{ time_cost.hourly_rate }}/hr</strong>
        </div>
      </div>

      <div class="actions">
        <a class="btn btn-primary" href="{{ url_for('calculator') }}">Try another</a>
        <a class="btn" href="{{ url_for('expenses') }}">Go to expenses</a>
      </div>

      <p class="muted" style="margin-top:12px;">
        This is an estimate. It’s here to help you decide, not to judge you.
      </p>

    {% else %}
      <div class="callout" role="status" aria-live="polite">
        <strong>No result yet.</strong>
        <div class="muted" style="margin-top:6px;">
          Enter a cost and pay amount to see the time translation.
        </div>
      </div>

      <div class="actions">
        <a class="btn btn-primary" href="{{ url_for('calculator') }}">Go to calculator</a>
      </div>
    {% endif %}
  </section>
</div>
{% endblock %}
