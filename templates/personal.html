{% extends "base.html" %}
{% block title %}Personal Information{% endblock %}

{% block content %}
<div class="form-container">
  <h1>Personal Information</h1>
  <p>These details are used to pre-populate calculations across the app.</p>

  <form action="{{ url_for('personal') }}" method="post">

    <div class="field">
      <label for="username">Name:</label>
      <input type="text" id="username" name="username" value="{{ username }}" required>
    </div>

    <div class="field">
      <label for="currency">Preferred Currency (optional override):</label>
      <select id="currency" name="currency">
        <option value="$" {% if currency == "$" %}selected{% endif %}>USD ($)</option>
        <option value="£" {% if currency == "£" %}selected{% endif %}>GBP (£)</option>
        <option value="€" {% if currency == "€" %}selected{% endif %}>EUR (€)</option>
        <option value="¥" {% if currency == "¥" %}selected{% endif %}>JPY (¥)</option>
        <option value="₹" {% if currency == "₹" %}selected{% endif %}>INR (₹)</option>
        <option value="₩" {% if currency == "₩" %}selected{% endif %}>KRW (₩)</option>
        <option value="₽" {% if currency == "₽" %}selected{% endif %}>RUB (₽)</option>
      </select>
      <div class="hint">You can also change currency any time from the top navbar.</div>
    </div>

    <div class="field">
      <label>Pay Frequency:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="payFrequency" value="weekly"
                 {% if payFrequency == "weekly" %}checked{% endif %}>
          Weekly
        </label>
        <label>
          <input type="radio" name="payFrequency" value="biweekly"
                 {% if payFrequency == "biweekly" %}checked{% endif %}>
          Biweekly
        </label>
        <label>
          <input type="radio" name="payFrequency" value="monthly"
                 {% if payFrequency == "monthly" %}checked{% endif %}>
          Monthly
        </label>
      </div>
      <div class="hint">Used to estimate your annual and hourly rates.</div>
    </div>

    <div class="field">
      <label for="paycheckAmount">Take-home Paycheck Amount:</label>
      <input type="number" step="0.01" id="paycheckAmount"
             name="paycheckAmount"
             value="{{ paycheckAmount or '' }}"
             placeholder="e.g. 1500">
    </div>

    <div class="field">
      <label for="annualRate">Annual Salary (optional):</label>
      <input type="number" step="0.01" id="annualRate"
             name="annualRate"
             value="{{ annualRate or '' }}">
      <div class="hint">If you enter this, it can auto-fill monthly income on other pages.</div>
    </div>

    <div class="field">
      <label for="hourlyRate">Hourly Rate (optional):</label>
      <input type="number" step="0.01" id="hourlyRate"
             name="hourlyRate"
             value="{{ hourlyRate or '' }}">
      <div class="hint">If blank, we’ll estimate hourly from annual salary or paycheck amount + frequency.</div>
    </div>

    <div class="field">
      <label for="workHours">Work Hours per Week:</label>
      <input type="number" step="0.1" id="workHours"
             name="workHours"
             value="{{ workHours or 40 }}"
             required>
      <div class="hint">Used to estimate monthly and hourly time-cost.</div>
    </div>

    <div class="field">
      <label for="monthlyExpenses">Monthly Expenses (auto-filled):</label>
      <input type="number" step="0.01" id="monthlyExpenses"
             name="monthlyExpenses"
             value="{{ expenses or 0 }}"
             readonly>
      <div class="hint">
        This total comes from your Expenses list. Edit items on the <strong>Expenses</strong> page.
      </div>
    </div>

    <button type="submit">Save Information</button>
  </form>
</div>
{% endblock %}
